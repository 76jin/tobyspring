# tobyspring
toby's spring 3.1 Example source for study.

Setup
* JDK 1.7
* Spring Framework 3.6.3.RELEASE
* used DB: MySQL
* Server: apache-tomcat-7.0.55

## 1장 오브젝트와 의존관계
## 2장 테스트
 - 스프링이 개발자에게 제공하는 가장 중요한 가치는 객체지향과 테스트이다.
 - 테스트 없이는 스프링도 의미가 없다.
   - 객체지향
     - 관심사의 분리
     - 개방과 폐쇄의 원칙
     - 높은 응집도와 낮은 결합도
     - 객체지향의 5가지 설계원칙 SOLID
   - 테스트
     - 단위 테스트
       - 단위: 충분히 하나의 관심에 집중해서 효율적으로 테스트할 만한 범위.
       - 확인의 대상과 조건이 간단하고 명료할수록 좋다.
       - 모든 테스트는 실행 순서에 상관없이 독립적으로 항상 동일한 결과를 낼 수 있어야 한다.
       - 항상 네거티브 테스트를 먼저 만들어라.
 - 만든 코드는 어떤 방법으로든 테스트해야 한다.
 - 테스트란 내가 예상하고 의도했던 대로 코드가 정확히 동작하는지 확인해서 만든 코드를 확신할 수 있게 해주는 작업.
   - 코드나 설계에 결함을 발견할 수도 있고,
   - 이를 통해 코드의 결함을 제거해 나가는 작업.
 - 테스트는 가능하면 작은 단위로 쪼개서 집중해서 할 수 있어야 한다.
 - 테스트는 자동으로 수행되도록 코드로 만들어지는 것이 중요하다.
 - 테스트 검증의 자동화
 - 테스트 실패
   - 테스트 에러: 테스트 도중에 에러가 발생해서 실패하는 경우.
   - 테스트 실패: 테스트 결과가 기대한 것과 다르게 나오는 경우.
 - JUnit 테스트로 전환
   1. 메소드가 public void, no parameter 로 선언되어야 함.
   2. 메소드에 @Test 에노테이션 붙여줘야 함.

 - 테스트가 이끄는 개발
   1. 가장 먼저 만들어야 할 기능을 결정한다.
   2. 그리고나서 테스트를 먼저 만든다.
   3. 이 때, 만들어지지 않은 코드는 추가하고 싶은 기능을 코드로 표현하는 방식으로 코딩한다.
   4. 테스트 코드 완료 후 테스트를 한다. (당연히 실패되야 함)
   5. 만들어지지 않은(실제 기능을 가진 애플리케이션) 코드를 완성하여 테스트가 성공하도록 코딩한다.
   6. 다시 테스트 한다. (이 때 성공해야 한다)
  - 테스트 코드에 나타난 기능 : 잘 적성된 하나의 기능정의서처럼 보임.
    - 조건: 어떤 조건을 가지고
      - 가져올 사용자의 정보가 존재하지 않는 경우에
    - 행위: 무엇을 할 때
      - 존재하지 않은 id로 get()을 실행하면
    - 결과: 어떤 결과가 나온다.
      - 특별한 예외가 던져진다.
  - 테스트 주도 개발 TDD
    - 테스트 코드를 먼저 만들고, 테스트를 성공하게 해주는 코드를 작성하는 방식.
    - 기본원칙: 실패한 테스트를 성공시키기 위한 목적이 아닌 코드는 만들지 않는다.
    - 테스트를 작성하고, 이를 성공시키는 코드를 만드는 작업 주기를 가능한 짧게 가져가도록 권장.(몇 분에서 10분 정도)
    - 새로운 기능을 요구할 때, 개발자이 머릿속에서는
      - '이런 조건하에서는 이런 작업을 하면 이런 결과가 나올 것이다' 라는 식으로 기능을 먼저 정리하게 됨.
      - 이것을 생각한대로 코드로 정리한 것이 테스트 코드임.
 - 정리
   - 테스트는 자동화돼야 하고, 빠르게 실행할 수 있어야 한다.
   - 테스트하기 쉬운 코드가 좋은 코드다.
   - 테스트를 먼저 만들고, 테스트를 성공시키는 코드를 만들어가는 개발 방법이 유용하다.
   - 테스트 코드도 적절한 리팩토링이 필요하다.
   - @Before, @After 활용(공통 준비작업, 정리 작업)
   - 기술의 사용 방법을 익히고 이해를 돕기 위해 학습 테스트를 작성하자.
   - 오류가 발생될 경우, 그에 대한 버그 테스트를 만들자.
